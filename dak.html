
<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>

		<!-- Bootstrap CSS link and Fontawesome link-->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">

		<!-- Our Own css for some extra Stuff -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
		<link href="https://fonts.googleapis.com/css?family=Black+Han+Sans" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="index.css">

		<!-- Webstite Title, Icon, Description & Fonts -->
		<title>RedstoneraPub Team</title>
		<link rel="icon" type="image/png" href="img/rsp_logo_bg.png">
		<meta name="description" content="Minecraft Bedrock Edition redstone team. We focuses on buliding redstone doors mostly try to make new records or beat an old ones."/>
		<meta name="image" content="https://i.imgur.com/L70IhbE.png">
		<meta name="author" content="WavePlayz">
                
                <meta name="theme-color" content="#0171db">

		<!-- Social Media meta tags -->
			<!-- Schema.org for Google -->
		<meta itemprop="name" content="RedstonersPub You">
		<meta itemprop="description" content="Minecraft Bedrock Edition redstone team. We focuses on buliding redstone doors mostly try to make new records or beat an old ones.">
		<meta itemprop="image" content="https://i.imgur.com/L70IhbE.png">

			<!-- Twitter -->
		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="RedstonersPub me">
		<meta name="twitter:description" content="Minecraft Bedrock Edition redstone team. We focuses on buliding redstone doors mostly try to make new records or beat an old ones.">
		<meta name="twitter:site" content="@itsMrGhost">
		<meta name="twitter:creator" content="@itsMrGhost">
		<meta name="twitter:image:src" content="https://i.imgur.com/L70IhbE.png">
		<meta name="twitter:player" content="https://www.youtube.com/channel/UCfP7iztX4v9Jcw2qjVjDrQA">

			<!-- Open Graph general (Facebook, Pinterest & Google+) -->
		<meta name="og:title" content="Minecraft Bedrock Edition Redstone Team -RedstonersPub ">
		<meta name="og:description" content="Minecraft Bedrock Edition redstone team. We focuses on buliding redstone doors mostly try to make new records or beat an old ones.">
		<meta name="og:image" content="https://i.imgur.com/L70IhbE.png">
		<meta name="og:url" content="https://waveplayz.github.io/RedstonersPub">
		<meta name="og:site_name" content="RedstonersPub">
		<meta name="og:locale" content="en_US">
		<meta name="og:video" content="https://www.youtube.com/channel/UCfP7iztX4v9Jcw2qjVjDrQA">
		<meta name="fb:admins" content="100023148801771">
		<meta name="og:type" content="website">

	</head>
	<body style="background:#2c2f32" class="scroll-hide">

		<!-- Pre Loader -->

		<div style="width: 100%; height: 100%; z-index: 3999; background-color: #242729; position: fixed; left: 0; top: 0" id="preLoader">
			<div class="cube-grid">
				<div class="cube cube1"></div>
				<div class="cube cube2"></div>
				<div class="cube cube3"></div>
				<div class="cube cube4"></div>
				<div class="cube cube5"></div>
				<div class="cube cube6"></div>
				<div class="cube cube7"></div>
				<div class="cube cube8"></div>
				<div class="cube cube9"></div>
			</div>
		</div>

	<!-- Navigation Bar -->

		<nav class="navbar navbar-expand-lg navbar-dark justify-content-center p-3 navbar sticky-top nav-bg-dark" id="myNav">	
				<img src="img/rsp_logo_bg.png" alt="" style="height: 35px;" class="mr-2">
				<a href="#!" class="navbar-brand" style="font-family: unibold; font-size: 17px; font-weight: lighter; letter-spacing: 0.5px; word-spacing: 3px;">RedstonersPub</a>
		</nav>

		<div id="titles" class="container" style="margin-top: 4rem;">
			<h2 class="text-center" style="font-family: unibold;color: white; opacity: 0.9;">
				Post
			</h2>
		</div>
		
		<div class="container mt-5">
			<div class="row" id="posts">
				<div class="col-sm-12 col-md-12 col-lg-12" style="padding-top:15px; padding-bottom:15px;">
					<div class="card text-white" style="background: #363a3d; border-left: 3.5px solid #017db1;">
						<h6 class="card-subtitle mb-2 text-muted">Password</h6>
						<input id="pass" type="text" value=""></input>
						
						<h6 class="card-subtitle mb-2 text-muted">Content</h6>
						
						<textarea id="text" class="card-text scroll-hide" ></textarea>
						<div class="card-body">
							
							
							
								<button id="postbtn" onclick="post()" class="btn text-white dark-hover">
								POST</button>
								
							
						</div>

					</div>
				</div>
				
				
			</div>
		</div>
		
		<!-- Footer -->
		<footer style="background-color: #1c1e1f; padding-top: 45px;">
			<div class="container">
				<div class="row">
					<div class="col-12 col-sm-12 col-md-6 col-lg-6 mb-4">
						<h5 class="text-center mb-3" style="color: #d7d7d7; text-transform: uppercase; font-family: unibold;">RedstonersPub</h5>
						<p class="text-muted text-center">Minecraft Bedrock Edition redstone team. We focuses on buliding redstone doors mostly try to make new records or beat an old ones.</p>
						<hr style="height: 1.5px; opacity: 0.65;">
					</div>
					<div class="col-12 col-sm-12 col-md-6 col-lg-6 mb-4">
						<h5 class="text-center mb-3" style="color: #d7d7d7; text-transform: uppercase; font-family: unibold; word-spacing: 3.7px;">Follow us here</h5>
						<div class="center-x">
							<div class="btn-group">
								<a href="#" class="btn text-white-50 dark-hover"><i class="fab fa-youtube"></i> Youtube</a>
								<a href="#" class="btn text-white-50 dark-hover"><i class="fab fa-discord"></i> Discord</a>
								<a href="#" class="btn text-white-50 dark-hover"><i class="fab fa-twitter"></i> Twitter</a>
							</div>
							<hr style="height: 1.5px; opacity: 0.65;">
						</div>
					</div>
				</div>
			</div>
			<div class="footer-copyright text-center py-3" style="background-color: rgba(0,0,0,0.15);">
				<h5 class="text-white-50" style="font-size: 0.853rem; margin: 0;"><i class="far fa-copyright"></i> 2019 Copyright: <span style="color: #d7d7d7">WavePlayz</span></h5>
			</div>
		</footer>


<!-- JavaScript -->

	<!-- Optional JavaScript -->
		
		<script>
			
			const url = "https://test-c1d64-default-rtdb.firebaseio.com/posts.json"

function post() {
	let content = document.getElementById('text').value
	let pass = document.getElementById('pass').value
let time = Date.now()

document.getElementById('postbtn').classList.add('hide');

var xhr = new XMLHttpRequest();
xhr.open("POST", url, true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {
      if (xhr.readyState === 4) {
        var response = JSON.parse(xhr .responseText);
          if (xhr .status === 200) {
             alert('successful');
             posts .insertBefore(
makePost(response.name, content, (new Date(time)).toString() )

, posts.firstChild);
             
             
          } else {
          document.getElementById('postbtn').classList.remove('hide');
             alert('failed');
          }
      }
    }
xhr.send(JSON.stringify({
    content,
    time,
    pass
}));
			}





function addClasses(cs, e) {
		cs.forEach(
			c => e.classList.add( c )
		) 
	}
			
function makePost(id, content, time, pass) {
	
	
	
	
	let post = document.createElement('div')
	post.style.paddingTop = "15px"
	post.style.paddingBottom = "15px"
	post.id = id
	addClasses(
		[ "col-sm-6" , "col-md-4", "col-lg-3"
], 
		post
	)
	
	
	
	
		let card = document.createElement('div')
		card.style.background = "#363a3d"
		card.style.borderLeft = "3.5px solid " + "3d3d3d"
		addClasses(
			["card", "text-white" ],
			card
		)
		post.appendChild(card)
		
		
		
			let header = document.createElement('div')
			addClasses(
				["card-header" ],
				header
			)
			card .appendChild( header )
			
			
			
			
			
				let badge = document.createElement('span')
				addClasses(
					["badge" ],
					badge
				)
				badge.style.background = "#3f4347"
				badge.innerHTML = id
				
				header .appendChild( badge )
				
				
				
				
				let del = document.createElement('button')
					addClasses([ "close" ], del)
					del.type = "button"
					del.ariaLabel = "Close"
					del.onclick = function() {
						let o = prompt("who is the boss")
if (o=="boss is the boss" || o==pass) deletee( id );
}
					del.innerHTML = '<span aria-hidden="true">&times;</span>'
					
					header .appendChild( del )
				
				
			let body = document.createElement('div')
			addClasses(
				["card-body" ],
				body
			)
			card .appendChild( body )
				
				
				let para = document.createElement('p')
				addClasses(
					["card-text", "scroll-hide" ],
					para
				)
				//para.style.maxHeight = "80px"
				console.warn(content)
				let links = content?.match(/https:\/\/.*/g)
				
				links?.forEach(link => {
					content = content.replaceAll(link, "") 

				})
				
				content = content.replace(/\w+x\w+x\w+=\w+/, "$&")
				
				
				para.appendChild( document.createTextNode( content ) )
				
				body .appendChild( para )
				
				
				let buttons = document.createElement('div')
				addClasses( ["btn-group","btn-group-sm"], buttons )
				buttons.setAttribute("role", "group")
				
				
				
				links?.forEach( link => {
					let a = document.createElement('a')
					addClasses(["btn", "text-white", "dark-hover"], a)
					a.href = link
					a.innerText = link.match(/https?:\/\/(?:\w*\.)?(\w+)\.\w+/)[1].toUpperCase()
					
					buttons.appendChild(a)
				})
				
				body .appendChild( buttons )
				
				
			
			let footer = document.createElement('div')
			addClasses(["card-footer"], footer)
			card .appendChild( footer )
			
				let posted = document.createElement('small')
				addClasses(["text-muted"], posted)
				
				posted.innerHTML = time
				
				console.log(time)
				
				footer .appendChild( posted )
				
				
				
	return post
}



			
			
var xhr = new XMLHttpRequest();
xhr.open("GET", url, true);

xhr.onreadystatechange = function() {
      if (xhr.readyState === 4) {
        var re = JSON.parse(xhr.responseText);
        let ks = Object.keys(re).reverse()
        console.log(re)
        let posts = document.getElementById("posts")
        
          for (let i of ks) {
				posts.appendChild( makePost(i, re[i].content, (new Date(re[i].time)).toString()), re[i].pass  )
		}
      }
    }
xhr.send()
;




			
			
function deletee(id) {
	console.log(id)
	const url = "https://test-c1d64-default-rtdb.firebaseio.com/posts/" + id + ".json"
	
	var xhr = new XMLHttpRequest();
xhr.open("DELETE", url, true);

xhr.onreadystatechange = function() {
      if (xhr.readyState === 4) {
        var re = JSON.parse(xhr.responseText);
        
        if (xhr .status === 200) {
             alert('successful');
             document.getElementById(id).remove()
          } else {
          
             alert('failed');
          }
      }
 }
xhr.send()
}
			
			
			
			window.addEventListener('load', () => {
				document.getElementById('preLoader').style.display = "none";
				window.scrollTo(0,0);
				let loader = document.getElementById('preLoader');
				if (loader.style.display == "none") {
					// statement
					document.body.classList.remove('scroll-hide');
				}
				else {
					document.body.classList.add('scroll-hide');
				}
			});
		</script>
		<script>
			window.addEventListener('scroll', () => {
				var nav = document.getElementById('myNav');
				
				if (window.pageYOffset > 100) {
			    	nav.classList.add('nav-bg-blue');
			    	nav.classList.remove('nav-bg-dark');
				}
				else if (window.pageYOffset < 100) {
					nav.classList.add('nav-bg-dark');
			    	nav.classList.remove('nav-bg-blue');
				}
			});        
		</script>

	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	
	
		
		
	</body>
</html>












